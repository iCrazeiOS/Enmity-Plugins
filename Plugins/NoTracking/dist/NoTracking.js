function w(t){window.enmity.plugins.registerPlugin(t)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const u=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React,window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function a(t){return window.enmity.patcher.create(t)}var r="NoTracking",y="1.1",p="Remove tracking parameters from links you send",g=[{name:"iCraze",id:"883412614699446283"}],h={name:r,version:y,description:p,authors:g};const l=a("no-tracking");function f(t){let m={},s=t.replace(/.*?\?/,"").split("&");for(let i in s){let o=s[i].split("=")[0];!o.length||(typeof m[o]=="undefined"&&(m[o]=[]),m[o].push(s[i].split("=")[1]))}return m}const v={...h,onStart(){l.before(u,"sendMessage",(t,m,s)=>{var i;let o=m[1].content;const c=/(http|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/g;(i=o.match(c))==null||i.forEach(n=>{if(n.includes("twitter.com/")){let e=n.split("t=")[0].split("s=")[0];e.endsWith("?")&&(e=e.slice(0,-1)),o=o.replace(n,e)}else if(n.includes("reddit.com/")){let e=n.replace(/utm_medium(=[^&]*)?|^utm_medium(=[^&]*)?&?/g,"");e=e.replace(/utm_source(=[^&]*)?|^utm_source(=[^&]*)?&?/g,""),e=e.replace(/utm_name(=[^&]*)?|^utm_name(=[^&]*)?&?/g,""),e=e.replace("&&",""),e=e.replace("?&","?"),e.endsWith("&")&&(e=e.slice(0,-1)),o=o.replace(n,e)}else if(n.includes("ebay.co")){let e=n.split("?")[0],d=f(n);d._nkw&&(e+="?_nkw="+d._nkw),o=o.replace(n,e)}else if(n.includes("soundcloud.com/")){let e=n.split("?")[0];o=o.replace(n,e)}else if(n.includes("instagram.com/")){let e=n.split("?")[0];o=o.replace(n,e)}}),o.endsWith("?")&&(o=o.slice(0,-1)),m[1].content=o})},onStop(){l.unpatchAll()}};w(v);

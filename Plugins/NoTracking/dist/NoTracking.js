function w(m){window.enmity.plugins.registerPlugin(m)}window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const c=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native,window.enmity.modules.common.React,window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts,window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function l(m){return window.enmity.patcher.create(m)}var a="NoTracking",u="1.0.0",r="Remove tracking parameters from links you send",y=[{name:"iCraze",id:"883412614699446283"}],g={name:a,version:u,description:r,authors:y};const s=l("no-tracking"),p={...g,onStart(){s.before(c,"sendMessage",(m,i,h)=>{var t;let e=i[1].content;const d=/(http|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])/g;(t=e.match(d))==null||t.forEach(n=>{if(n.includes("twitter.com/")){let o=n.split("t=")[0].split("s=")[0];o.endsWith("?")&&(o=o.slice(0,-1)),e=e.replace(n,o)}else if(n.includes("reddit.com/")){let o=n.replace(/utm_medium(=[^&]*)?|^utm_medium(=[^&]*)?&?/g,"").replace(/utm_source(=[^&]*)?|^utm_source(=[^&]*)?&?/g,"");o=o.replace("&&",""),o=o.replace("?&","?"),o.endsWith("&")&&(o=o.slice(0,-1)),e=e.replace(n,o)}}),e.endsWith("?")&&(e=e.slice(0,-1)),i[1].content=e})},onStop(){s.unpatchAll()}};w(p);
